!function(c){function s(){l.hide(),j.onerror=j.onload=null,O&&O.abort(),h.empty()}function r(){!1===m.onError(v,x,m)?(l.hide(),D=!1):(m.titleShow=!1,m.width="auto",m.height="auto",h.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),N())}function o(){var n,t,e,i,a,o,d=v[x];if(s(),m=c.extend({},c.fn.fancybox.defaults,void 0===c(d).data("fancybox")?m:c(d).data("fancybox")),!1===(o=m.onStart(v,x,m)))D=!1;else if(e=(m="object"==typeof o?c.extend(m,o):m).title||(d.nodeName?c(d).attr("title"):d.title)||"",d.nodeName&&!m.orig&&(m.orig=c(d).children("img:first").length?c(d).children("img:first"):c(d)),""===e&&m.orig&&m.titleFromAlt&&(e=m.orig.attr("alt")),n=m.href||(d.nodeName?c(d).attr("href"):d.href)||null,!/^(?:javascript)/i.test(n)&&"#"!=n||(n=null),m.type?(t=m.type,n=n||m.content):m.content?t="html":n&&(t=n.match(T)?"image":n.match(M)?"swf":c(d).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),t)switch("inline"==t&&(d=n.substr(n.indexOf("#")),t=0<c(d).length?"inline":"ajax"),m.type=t,m.href=n,m.title=e,m.autoDimensions&&("html"==m.type||"inline"==m.type||"ajax"==m.type?(m.width="auto",m.height="auto"):m.autoDimensions=!1),m.modal&&(m.overlayShow=!0,m.hideOnOverlayClick=!1,m.hideOnContentClick=!1,m.enableEscapeButton=!1,m.showCloseButton=!1),m.padding=parseInt(m.padding,10),m.margin=parseInt(m.margin,10),h.css("padding",m.padding+m.margin),c(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){c(this).replaceWith(f.children())}),t){case"html":h.html(m.content),N();break;case"inline":if(!0===c(d).parent().is("#fancybox-content")){D=!1;break}c('<div class="fancybox-inline-tmp" />').hide().insertBefore(c(d)).bind("fancybox-cleanup",function(){c(this).replaceWith(f.children())}).bind("fancybox-cancel",function(){c(this).replaceWith(h.children())}),c(d).appendTo(h),N();break;case"image":D=!1,c.fancybox.showActivity(),(j=new Image).onerror=function(){r()},j.onload=function(){D=!0,j.onerror=j.onload=null,m.width=j.width,m.height=j.height,c("<img />").attr({id:"fancybox-img",src:j.src,alt:m.title}).appendTo(h),B()},j.src=n;break;case"swf":m.scrolling="no",i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+m.width+'" height="'+m.height+'"><param name="movie" value="'+n+'"></param>',a="",c.each(m.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',a+=" "+t+'="'+e+'"'}),i+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+m.width+'" height="'+m.height+'"'+a+"></embed></object>",h.html(i),N();break;case"ajax":D=!1,c.fancybox.showActivity(),m.ajax.win=m.ajax.success,O=c.ajax(c.extend({},m.ajax,{url:n,data:m.ajax.data||{},error:function(t){0<t.status&&r()},success:function(t,e,i){if(200==("object"==typeof i?i:O).status){if("function"==typeof m.ajax.win){if(!1===(o=m.ajax.win(n,t,e,i)))return void l.hide();"string"!=typeof o&&"object"!=typeof o||(t=o)}h.html(t),N()}}}));break;case"iframe":B()}else r()}function a(){return[c(window).width()-2*C.margin,c(window).height()-2*C.margin,c(document).scrollLeft()+C.margin,c(document).scrollTop()+C.margin]}function L(){l.is(":visible")?(c("div",l).css("top",-40*e+"px"),e=(e+1)%12):clearInterval(t)}var h,l,i,n,d,f,p,g,b,y,t,u,w,x=0,m={},v=[],I=0,C={},k=[],O=null,j=new Image,T=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,M=/[^\.]\.(swf)\s*$/i,e=1,S=0,A="",D=!1,F=c.extend(c("<div/>")[0],{prop:0}),E=c.browser.msie&&c.browser.version<7&&!window.XMLHttpRequest,N=function(){var t=m.width,e=m.height,t=-1<t.toString().indexOf("%")?parseInt((c(window).width()-2*m.margin)*parseFloat(t)/100,10)+"px":"auto"==t?"auto":t+"px",e=-1<e.toString().indexOf("%")?parseInt((c(window).height()-2*m.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px";h.wrapInner('<div style="width:'+t+";height:"+e+";overflow: "+("auto"==m.scrolling?"auto":"yes"==m.scrolling?"scroll":"hidden")+';position:relative;"></div>'),m.width=h.width(),m.height=h.height(),B()},B=function(){var t,e;if(l.hide(),n.is(":visible")&&!1===C.onCleanup(k,I,C))c.event.trigger("fancybox-cancel"),D=!1;else{if(D=!0,c(f.add(i)).unbind(),c(window).unbind("resize.fb scroll.fb"),c(document).unbind("keydown.fb"),n.is(":visible")&&"outside"!==C.titlePosition&&n.css("height",n.height()),k=v,I=x,(C=m).overlayShow?(i.css({"background-color":C.overlayColor,opacity:C.overlayOpacity,cursor:C.hideOnOverlayClick?"pointer":"auto",height:c(document).height()}),i.is(":visible")||(E&&c("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),i.show())):i.hide(),w=H(),A=C.title||"",S=0,g.empty().removeAttr("style").removeClass(),!1!==C.titleShow&&(t=c.isFunction(C.titleFormat)?C.titleFormat(A,k,I,C):!(!A||!A.length)&&("float"==C.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+A+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+C.titlePosition+'">'+A+"</div>"),(A=t)&&""!==A))switch(g.addClass("fancybox-title-"+C.titlePosition).html(A).appendTo("body").show(),C.titlePosition){case"inside":g.css({width:w.width-2*C.padding,marginLeft:C.padding,marginRight:C.padding}),S=g.outerHeight(!0),g.appendTo(d),w.height+=S;break;case"over":g.css({marginLeft:C.padding,width:w.width-2*C.padding,bottom:C.padding}).appendTo(d);break;case"float":g.css("left",-1*parseInt((g.width()-w.width-40)/2,10)).appendTo(n);break;default:g.css({width:w.width-2*C.padding,paddingLeft:C.padding,paddingRight:C.padding}).appendTo(n)}g.hide(),n.is(":visible")?(c(p.add(b).add(y)).hide(),t=n.position(),u={top:t.top,left:t.left,width:n.width(),height:n.height()},e=u.width==w.width&&u.height==w.height,f.fadeTo(C.changeFade,.3,function(){function t(){f.html(h.contents()).fadeTo(C.changeFade,1,P)}c.event.trigger("fancybox-change"),f.empty().removeAttr("filter").css({"border-width":C.padding,width:w.width-2*C.padding,height:m.autoDimensions?"auto":w.height-S-2*C.padding}),e?t():(F.prop=0,c(F).animate({prop:1},{duration:C.changeSpeed,easing:C.easingChange,step:z,complete:t}))})):(n.removeAttr("style"),f.css("border-width",C.padding),"elastic"==C.transitionIn?(u=R(),f.html(h.contents()),n.show(),C.opacity&&(w.opacity=0),F.prop=0,c(F).animate({prop:1},{duration:C.speedIn,easing:C.easingIn,step:z,complete:P})):("inside"==C.titlePosition&&0<S&&g.show(),f.css({width:w.width-2*C.padding,height:m.autoDimensions?"auto":w.height-S-2*C.padding}).html(h.contents()),n.css(w).fadeIn("none"==C.transitionIn?0:C.speedIn,P)))}},P=function(){var t;c.support.opacity||(f.get(0).style.removeAttribute("filter"),n.get(0).style.removeAttribute("filter")),m.autoDimensions&&f.css("height","auto"),n.css("height","auto"),A&&A.length&&g.show(),C.showCloseButton&&p.show(),(C.enableEscapeButton||C.enableKeyboardNav)&&c(document).bind("keydown.fb",function(t){27==t.keyCode&&C.enableEscapeButton?(t.preventDefault(),c.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!C.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),c.fancybox[37==t.keyCode?"prev":"next"]())}),C.showNavArrows?((C.cyclic&&1<k.length||0!==I)&&b.show(),(C.cyclic&&1<k.length||I!=k.length-1)&&y.show()):(b.hide(),y.hide()),C.hideOnContentClick&&f.bind("click",c.fancybox.close),C.hideOnOverlayClick&&i.bind("click",c.fancybox.close),c(window).bind("resize.fb",c.fancybox.resize),C.centerOnScroll&&c(window).bind("scroll.fb",c.fancybox.center),"iframe"==C.type&&c('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(c.browser.msie?'allowtransparency="true""':"")+' scrolling="'+m.scrolling+'" src="'+C.href+'"></iframe>').appendTo(f),n.show(),D=!1,c.fancybox.center(),C.onComplete(k,I,C),k.length-1>I&&void 0!==(t=k[I+1].href)&&t.match(T)&&((new Image).src=t),0<I&&void 0!==(t=k[I-1].href)&&t.match(T)&&((new Image).src=t)},z=function(t){var e={width:parseInt(u.width+(w.width-u.width)*t,10),height:parseInt(u.height+(w.height-u.height)*t,10),top:parseInt(u.top+(w.top-u.top)*t,10),left:parseInt(u.left+(w.left-u.left)*t,10)};void 0!==w.opacity&&(e.opacity=t<.5?.5:t),n.css(e),f.css({width:e.width-2*C.padding,height:e.height-S*t-2*C.padding})},H=function(){var t=a(),e={},i=C.autoScale,n=2*C.padding;return e.width=-1<C.width.toString().indexOf("%")?parseInt(t[0]*parseFloat(C.width)/100,10):C.width+n,e.height=-1<C.height.toString().indexOf("%")?parseInt(t[1]*parseFloat(C.height)/100,10):C.height+n,i&&(e.width>t[0]||e.height>t[1])&&("image"==m.type||"swf"==m.type?(i=C.width/C.height,e.width>t[0]&&(e.width=t[0],e.height=parseInt((e.width-n)/i+n,10)),e.height>t[1]&&(e.height=t[1],e.width=parseInt((e.height-n)*i+n,10))):(e.width=Math.min(e.width,t[0]),e.height=Math.min(e.height,t[1]))),e.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-e.height-40)),10),e.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-e.width-40)),10),e},R=function(){var t=!!m.orig&&c(m.orig),e={};return e=t&&t.length?((e=t.offset()).top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),{width:e.width+2*C.padding,height:e.height+2*C.padding,top:e.top-C.padding-20,left:e.left-C.padding-20}):(t=a(),{width:2*C.padding,height:2*C.padding,top:parseInt(t[3]+.5*t[1],10),left:parseInt(t[2]+.5*t[0],10)})};c.fn.fancybox=function(t){return c(this).length&&c(this).data("fancybox",c.extend({},t,c.metadata?c(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){t.preventDefault(),D||(D=!0,c(this).blur(),v=[],x=0,(t=c(this).attr("rel")||"")&&""!=t&&"nofollow"!==t?(v=c("a[rel="+t+"], area[rel="+t+"]"),x=v.index(this)):v.push(this),o())}),this},c.fancybox=function(t,e){var i;if(!D){if(D=!0,i=void 0!==e?e:{},v=[],x=parseInt(i.index,10)||0,c.isArray(t)){for(var n=0,a=t.length;n<a;n++)"object"==typeof t[n]?c(t[n]).data("fancybox",c.extend({},i,t[n])):t[n]=c({}).data("fancybox",c.extend({content:t[n]},i));v=jQuery.merge(v,t)}else"object"==typeof t?c(t).data("fancybox",c.extend({},i,t)):t=c({}).data("fancybox",c.extend({content:t},i)),v.push(t);(x>v.length||x<0)&&(x=0),o()}},c.fancybox.showActivity=function(){clearInterval(t),l.show(),t=setInterval(L,66)},c.fancybox.hideActivity=function(){l.hide()},c.fancybox.next=function(){return c.fancybox.pos(I+1)},c.fancybox.prev=function(){return c.fancybox.pos(I-1)},c.fancybox.pos=function(t){D||(t=parseInt(t),v=k,-1<t&&t<k.length?(x=t,o()):C.cyclic&&1<k.length&&(x=t>=k.length?0:k.length-1,o()))},c.fancybox.cancel=function(){D||(D=!0,c.event.trigger("fancybox-cancel"),s(),m.onCancel(v,x,m),D=!1)},c.fancybox.close=function(){function t(){i.fadeOut("fast"),g.empty().hide(),n.hide(),c.event.trigger("fancybox-cleanup"),f.empty(),C.onClosed(k,I,C),k=m=[],I=x=0,C=m={},D=!1}var e;D||n.is(":hidden")||(D=!0,C&&!1===C.onCleanup(k,I,C)?D=!1:(s(),c(p.add(b).add(y)).hide(),c(f.add(i)).unbind(),c(window).unbind("resize.fb scroll.fb"),c(document).unbind("keydown.fb"),f.find("iframe").attr("src",E&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==C.titlePosition&&g.empty(),n.stop(),"elastic"==C.transitionOut?(u=R(),e=n.position(),w={top:e.top,left:e.left,width:n.width(),height:n.height()},C.opacity&&(w.opacity=1),g.empty().hide(),F.prop=1,c(F).animate({prop:0},{duration:C.speedOut,easing:C.easingOut,step:z,complete:t})):n.fadeOut("none"==C.transitionOut?0:C.speedOut,t)))},c.fancybox.resize=function(){i.is(":visible")&&i.css("height",c(document).height()),c.fancybox.center(!0)},c.fancybox.center=function(t){var e,i;D||(i=!0===t?1:0,e=a(),!i&&(n.width()>e[0]||n.height()>e[1])||n.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-f.height()-40)-C.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-f.width()-40)-C.padding))},"number"==typeof t?t:200))},c.fancybox.init=function(){c("#fancybox-wrap").length||(c("body").append(h=c('<div id="fancybox-tmp"></div>'),l=c('<div id="fancybox-loading"><div></div></div>'),i=c('<div id="fancybox-overlay"></div>'),n=c('<div id="fancybox-wrap"></div>')),(d=c('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(n)).append(f=c('<div id="fancybox-content"></div>'),p=c('<a id="fancybox-close"></a>'),g=c('<div id="fancybox-title"></div>'),b=c('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),y=c('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),p.click(c.fancybox.close),l.click(c.fancybox.cancel),b.click(function(t){t.preventDefault(),c.fancybox.prev()}),y.click(function(t){t.preventDefault(),c.fancybox.next()}),c.fn.mousewheel&&n.bind("mousewheel.fb",function(t,e){D?t.preventDefault():0!=c(t.target).get(0).clientHeight&&c(t.target).get(0).scrollHeight!==c(t.target).get(0).clientHeight||(t.preventDefault(),c.fancybox[0<e?"prev":"next"]())}),c.support.opacity||n.addClass("fancybox-ie"),E&&(l.addClass("fancybox-ie6"),n.addClass("fancybox-ie6"),c('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(d)))},c.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},c(document).ready(function(){c.fancybox.init()})}(jQuery);